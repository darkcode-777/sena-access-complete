<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Registro de Ingreso</title>
<link rel="stylesheet" href="paginas.css">
<style>
  .info-aprendiz {
    background-color: #000000ab;
    padding: 15px;
    border-radius: 5px;
    margin-bottom: 20px;
    border-left: 4px solid #75c975;
  }
  .info-item {
    margin-bottom: 8px;
  }
  .info-label {
    font-weight: bold;
    display: inline-block;
    width: 100px;
  }
</style>
</head>
<body>

<div class="sidebar">
  <h2>BIENVENIDO</h2>
  <a href="aprendizes.html">Aprendices</a>
  <a href="actividad_de_ingresos_salidas.html">Actividad de Ingresos y Salidas</a>
  <a href="escanear_qr.html">Escanear QR</a>
</div>

<div class="content">
  <h3>Registro de Ingreso</h3>

  <div id="info-aprendiz" class="info-aprendiz">
    <h4>Información del Aprendiz</h4>
    <div class="info-item"><span class="info-label">Nombre:</span> <span id="info-nombre">-</span></div>
    <div class="info-item"><span class="info-label">Apellido:</span> <span id="info-apellido">-</span></div>
    <div class="info-item"><span class="info-label">Documento:</span> <span id="info-documento">-</span></div>
    <div class="info-item"><span class="info-label">Ficha:</span> <span id="info-ficha">-</span></div>
    <div class="info-item"><span class="info-label">Correo:</span> <span id="info-correo">-</span></div>
  </div>

  <form action="procesar_ingreso.php" method="POST">
    <input type="hidden" name="documento" id="documento">
    
    <label>Vehículo:</label>
    <select name="vehiculo">
      <option value="0">No</option>
      <option value="1">Sí</option>
    </select>

    <label>Uso de Portátil:</label>
    <select name="uso_pc">
      <option value="0">No</option>
      <option value="1">Sí</option>
    </select>

    <br><br>
    <button type="submit">Registrar Ingreso</button>
  </form>
</div>

<script>
  // Obtener parámetros de la URL
  const urlParams = new URLSearchParams(window.location.search);
  
  if (urlParams.has('documento')) {
    // Mostrar información del aprendiz
    document.getElementById('info-nombre').textContent = urlParams.get('nombre') || '-';
    document.getElementById('info-apellido').textContent = urlParams.get('apellido') || '-';
    document.getElementById('info-documento').textContent = urlParams.get('documento') || '-';
    document.getElementById('info-ficha').textContent = urlParams.get('ficha') || '-';
    document.getElementById('info-correo').textContent = urlParams.get('correo') || '-';
    
    // Llenar el campo oculto del formulario
    document.getElementById('documento').value = urlParams.get('documento');
  } else {
    document.getElementById('info-aprendiz').innerHTML = 
      '<p style="color: red;">No se ha detectado ningún documento. Por favor, escanee un código QR primero.</p>' +
      '<a href="escanear_qr.html">Ir a escanear QR</a>';
  }
</script>

</body>
</html>